<section class="request-result" *ngIf="query">

  <h3 md-subheader>
    <div class="status-visual-indicator"></div>
    {{query.name}} ({{query.author}}) -- {{query.status}}
  </h3>

  <md-tab-group>
    <md-tab label="Results">
      <section class="image-box">
        <img src="//localhost:9000/images/{{query.metadata.rgb}}">
        <img src="//localhost:9000/images/{{query.metadata.forest}}" class="forest-img" [style.opacity]="imgOpacity">
      </section>
      <section class="legend-box">
        <h3>Maps Legend</h3>
        <h4>Photosynthesis Map Opacity</h4>
        <md-slider min="0" max="1" step="0.01" value="0" [(ngModel)]="imgOpacity"></md-slider>
        <h4>High Photosynthesis Delta <br> (Reforestation)</h4>
        <div class="green-legend"></div>
        <h4>Low Photosynthesis Delta <br> (Deforestation)</h4>
        <div class="red-legend"></div>
      </section>
    </md-tab>

    <md-tab label="NLP Interpretation">
      <table>
        <tr>
          <th>Place</th>
          <td>{{query.details.place}}</td>
        </tr>
        <tr>
          <th>From</th>
          <td>{{query.details.from}}</td>
        </tr>
        <tr>
          <th>To</th>
          <td>{{query.details.to}}</td>
        </tr>
        <tr>
          <th>Event</th>
          <td>{{query.details.event}}</td>
        </tr>
      </table>
    </md-tab>

    <md-tab label="Query Steps">
      <md-list>
        <section class="query" style="margin-top:25px">
          <section class="query-tasks"><app-task *ngFor="let task of query.tasks" [task]="task"></app-task></section>
        </section>
      </md-list>
    </md-tab>
  </md-tab-group>

</section>
